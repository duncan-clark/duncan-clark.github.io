Rcpp::sourceCpp('Academics/R/R_Projects/Machi_Koro_Sim_Cpp_2/module.cpp')
Rcpp::sourceCpp('Academics/R/R_Projects/Machi_Koro_Sim_Cpp_2/module.cpp')
Rcpp::sourceCpp('Academics/R/R_Projects/Machi_Koro_Sim_Cpp_2/module.cpp')
Rcpp::sourceCpp('Academics/R/R_Projects/Machi_Koro_Sim_Cpp_2/module.cpp')
Rcpp::sourceCpp('Academics/R/R_Projects/Machi_Koro_Sim_Cpp_2/module.cpp')
Rcpp::sourceCpp('Academics/R/R_Projects/Machi_Koro_Sim_Cpp_2/module.cpp')
Rcpp::sourceCpp('Academics/R/R_Projects/Machi_Koro_Sim_Cpp_2/module.cpp')
tmp <- new(game,c("wheatfield","ranch"),c(10),c("random","random"))
tmp$turn(1,1)
tmp$turn(1,1)
tmp$turn(1,1)
tmp$turn(1,1)
rm(list=ls())
Rcpp::sourceCpp('Academics/R/R_Projects/Machi_Koro_Sim_Cpp_2/module.cpp')
Rcpp::sourceCpp('Academics/R/R_Projects/Machi_Koro_Sim_Cpp_3/module.cpp')
Rcpp::sourceCpp('Academics/R/R_Projects/Machi_Koro_Sim_Cpp_3/module.cpp')
rm(list=ls90)
rm(list=ls())
Rcpp::sourceCpp('Academics/R/R_Projects/Machi_Koro_Sim_Cpp_3/module.cpp')
tmp <- list()
length(tmp)
length(tmp) <- 10
tmp
install.packages("kableExtra")
install.packages(statnet)
install.packages("statnet")
install.packages("network")
install.packages("statnet")
update.packages("statnet")
install.packages("network")
library("kableExtra")
library("statnet")
library("devtools")
library("pkgbuild")
library("lolog")
library("captioner")
library("ggplot2")
library("plyr")
update.packages("network")
library("kableExtra")
library("statnet")
library("devtools")
library("pkgbuild")
library("lolog")
library("captioner")
library("ggplot2")
library("plyr")
library(lolgo)
library(lolog)
#This script uses the rStrava package to scrape club data:
library(rStrava)
library(statnet)
library(lolog)
library(rvest)
load("~/Academics/R/R_Projects/Strava_Net/.RData")
#Replace Nas with 0s for the attributes:
for(i in list.vertex.attributes(ucla_net)){
tmp = get.vertex.attribute(ucla_net,i)
tmp[is.na(tmp)] <- 0
set.vertex.attribute(ucla_net,i,tmp)
}
#do some plots:
names = get.vertex.attribute(ucla_net,"names")
odegree = colSums(as.matrix.network.adjacency(ucla_net))
idegree = rowSums(as.matrix.network.adjacency(ucla_net))
degree = colSums(as.matrix.network.adjacency(ucla_net)) + rowSums(as.matrix.network.adjacency(ucla_net))
ids = get.vertex.attribute(ucla_net,"id")
dists = get.vertex.attribute(ucla_net,"month_mean_dist")
elev = get.vertex.attribute(ucla_net,"month_mean_elev_gain")
hours = get.vertex.attribute(ucla_net,"month_mean_hours")
cor(dists,elev)
cor(dists,hours)
cor(elev,hours)
cor(degree,dists)
cor(degree,hours)
plot(ucla_net, vertex.cex = (degree)/50,main = "UCLA Cycling, degree node size")
plot(ucla_net, vertex.cex = (dists)/500,main = "UCLA Cycling, dists node size")
plot(ucla_net, vertex.cex = (elev)/10000,main = "UCLA Cycling, elev node size")
plot(ucla_net, vertex.cex = (hours)/20,main = "UCLA Cycling, hours node size")
summary(degree)
summary(dists)
names[which(degree>20)]
names[which(dists>500)]
lolog_2 <- lolog(ucla_net_undir ~ edges +
preferentialAttachment(2)+
gwdegree(0.01)+
nodeCov("month_mean_hours"),
ucla_net_undir ~ star(2))
summary(lolog_2)
#try dichotamising the network
ucla_net_undir <- network(ucla_net,directed = F)
lolog_2 <- lolog(ucla_net_undir ~ edges +
preferentialAttachment(2)+
gwdegree(0.01)+
nodeCov("month_mean_hours"),
ucla_net_undir ~ star(2))
summary(lolog_2)
gof_2 <- lolog::gofit(lolog_2,ucla_net_undir ~ degree(0:100))
plot(gof_2)
gof_2 <- lolog::gofit(lolog_2,ucla_net_undir ~ esp(0:10))
plot(gof_2)
gof_2 <- lolog::gofit(lolog_2,ucla_net_undir ~ esp(0:30))
plot(gof_2)
lolog_3 <- lolog(ucla_net_undir ~ edges +
preferentialAttachment(2)+
gwdegree(0.01)+
gwesp(0.01)+
nodeCov("month_mean_hours"),
ucla_net_undir ~ star(2))
summary(lolog_2)
summary(lolog_3)
gof_3 <- lolog::gofit(lolog_3,ucla_net_undir ~ degree(0:100))
plot(gof_3)
gof_3 <- lolog::gofit(lolog_3,ucla_net_undir ~ esp(0:30))
plot(gof_3)
#plot simulated networks
lapply(1:5,function(x){tmp <- lolog::simulate(lolog_3)
plot(tmp)})
#plot simulated networks
lapply(1:5,function(x){tmp <- simulate(lolog_3)
plot(tmp)})
tmp <- simulate(lolog_3)
tmp
#plot simulated networks
lapply(1:5,function(x){tmp <- as.network(simulate(lolog_3))
plot(tmp)})
#plot simulated networks
lapply(1:5,function(x){tmp <- lolog::as.network(simulate(lolog_3))
plot(tmp)})
lolog::as.network(simulate(lolog_3))
tmp  =lolog::as.network(simulate(lolog_3))
as.network
help("as.network")
lolog::as.network()
lolog::as.network
olog::as.network(simulate(lolog_3)
l
tmp <- simulate(lolog_3)
tmp
as.network(tm)
as.network(tmp)
lolog::as.network(tmp)
lolog::as.network(tmp[[1]])
#plot simulated networks
lapply(1:5,function(x){tmp <- lolog::as.network(simulate(lolog_3)[[1]])
plot(tmp)})
tmp <- lolog::as.network(simulate(lolog_3)[[1]])
tmp
plot(tmp)
#plot simulated networks
lapply(1:5,function(x){tmp <- lolog::as.network(simulate(lolog_3)[[1]])
plot(tmp)})
#plot simulated networks
lapply(1:5,function(x){tmp <- lolog::as.network(simulate(lolog_3)[[1]])
size = get.vertex.attribute(tmp,"month_mean_hours")
plot(tmp,vertex.cex = tmp/500)})
#plot simulated networks
lapply(1:5,function(x){tmp <- lolog::as.network(simulate(lolog_3)[[1]])
size = get.vertex.attribute(tmp,"month_mean_hours")
plot(tmp,vertex.cex = size/500)})
#plot simulated networks
lapply(1:5,function(x){tmp <- lolog::as.network(simulate(lolog_3)[[1]])
size = get.vertex.attribute(tmp,"month_mean_hours")
plot(tmp,vertex.cex = size/20)})
#plot simulated networks
lapply(1:5,function(x){tmp <- lolog::as.network(simulate(lolog_3)[[1]])
size = get.vertex.attribute(tmp,"month_mean_hours")
degree = colSums(as.matrix.network.adjacency(tmp)) + rowSums(as.matrix.network.adjacency(tmp))
plot(tmp,vertex.cex = degree/20)})
#plot simulated networks
lapply(1:5,function(x){tmp <- lolog::as.network(simulate(lolog_3)[[1]])
size = get.vertex.attribute(tmp,"month_mean_hours")
degree = colSums(as.matrix.network.adjacency(tmp)) + rowSums(as.matrix.network.adjacency(tmp))
plot(tmp,vertex.cex = degree/50)})
plot(ucla_net, vertex.cex = (degree)/50,main = "UCLA Cycling, degree node size")
plot(ucla_net, vertex.cex = (odegree)/50,main = "UCLA Cycling, degree node size")
plot(ucla_net, vertex.cex = (idegree)/50,main = "UCLA Cycling, degree node size")
summary(idgree)
odegree = rowSums(as.matrix.network.adjacency(ucla_net))
idegree = colSums(as.matrix.network.adjacency(ucla_net))
plot(ucla_net, vertex.cex = (odegree)/50,main = "UCLA Cycling, degree node size")
plot(ucla_net, vertex.cex = (idegree)/50,main = "UCLA Cycling, degree node size")
summary(odegree)
id[which(odegree == 87)]
ids[which(odegree == 87)]
17177859
help("delete.vertices")
help("get.vertex.id")
ucla_net
get.vertex.id(ucla_net)
get.vertex.id(ucla_net,1)
get.vertex.id(ucla_net,2)
get.vertex.id(ucla_net,17177859")
}""
get.vertex.id(ucla_net,17177859)
get.vertex.pid(ucla_net,17177859)
tmp = as.matrix.network.adjacency(ucla_net)
tmp
rowSums(tmp)
summary(rowSums(tmp))
which(rowSums(tmp) == 87)
#Plot the nodes without the one weirdo node with high odegree:
tmp = which(odegree = max(odegree))
#Plot the nodes without the one weirdo node with high odegree:
tmp = which(odegree == max(odegree))
tmp
tmp = as.matrix.network.adjacency(ucla_net)[-tmp,-tmp]
#Plot the nodes without the one weirdo node with high odegree:
tmp = which(odegree == max(odegree))
tmp = as.matrix.network.adjacency(ucla_net)[-tmp,-tmp]
ucla_net_minus = as.network(tmp)
plot(ucla_net_minus)
#Not capturing the esp distribution very well - not capturing local strucutre among
#Less popular nodes:
lolog_4 <- lolog(ucla_net_undir ~ edges +
preferentialAttachment(2)+
gwdegree(0.01)+
gwesp(0.1)+
nodeCov("month_mean_hours"),
ucla_net_undir ~ star(2))
gof_4 <- lolog::gofit(lolog_3,ucla_net_undir ~ degree(0:100))
plot(gof_4)
gof_4 <- lolog::gofit(lolog_3,ucla_net_undir ~ esp(0:30))
plot(gof_4)
lapply(1:5,function(x){tmp <- lolog::as.network(simulate(lolog_4)[[1]])
size = get.vertex.attribute(tmp,"month_mean_hours")
degree = colSums(as.matrix.network.adjacency(tmp)) + rowSums(as.matrix.network.adjacency(tmp))
plot(tmp,vertex.cex = degree/50)})
gof_4 <- lolog::gofit(lolog_4,ucla_net_undir ~ esp(0:30))
plot(gof_4)
gof_4 <- lolog::gofit(lolog_4,ucla_net_undir ~ degree(0:100))
plot(gof_4)
gof_4 <- lolog::gofit(lolog_4,ucla_net_undir ~ esp(0:30))
plot(gof_4)
gof_3 <- lolog::gofit(lolog_3,ucla_net_undir ~ esp(0:30))
plot(gof_3)
#Not capturing the esp distribution very well - not capturing local strucutre among
#Less popular nodes:
lolog_4 <- lolog(ucla_net_undir ~ edges +
preferentialAttachment()+
gwdegree(0.001)+
gwesp(0.001)+
nodeCov("month_mean_hours"),
ucla_net_undir ~ star(2))
degree
plot(degree)
hist(degree)
hist(log(degree))
plot(log(degree))
summary(lolog_4)
lolog_5 <- lolog(ucla_net_undir ~ edges +
#preferentialAttachment()+
gwdegree(0.001)+
gwesp(0.001)+
nodeCov("month_mean_hours"),
#ucla_net_undir ~ star(2)
)
summary(lolog_4)
summary(lolog_5)
gof_5 <- lolog::gofit(lolog_5,ucla_net_undir ~ degree(0:100))
plot(gof_5)
gof_5 <- lolog::gofit(lolog_5,ucla_net_undir ~ esp(0:30))
plot(gof_5)
lolog_5 <- lolog(ucla_net_undir ~ edges +
#preferentialAttachment()+
gwdegree(0.001)+
gwesp(0.00001)+
nodeCov("month_mean_hours"),
#ucla_net_undir ~ star(2)
)
gof_5 <- lolog::gofit(lolog_5,ucla_net_undir ~ degree(0:100))
plot(gof_5)
gof_5 <- lolog::gofit(lolog_5,ucla_net_undir ~ esp(0:30))
plot(gof_5)
summary(lolog_5)
lolog_5 <- lolog(ucla_net_undir ~ edges +
#preferentialAttachment()+
gwdegree(0.001)+
esp(0:3)+
nodeCov("month_mean_hours")
#ucla_net_undir ~ star(2)
)
lolog_5 <- lolog(ucla_net_undir ~ edges +
#preferentialAttachment()+
gwdegree(0.001)+
esp(1:2)+
nodeCov("month_mean_hours")
#ucla_net_undir ~ star(2)
)
summary(lolog_5)
gof_5 <- lolog::gofit(lolog_5,ucla_net_undir ~ degree(0:100))
plot(gof_5)
gof_5 <- lolog::gofit(lolog_5,ucla_net_undir ~ esp(0:30))
plot(gof_5)
plot(gof_5)
lapply(1:5,function(x){tmp <- lolog::as.network(simulate(lolog_5)[[1]])
size = get.vertex.attribute(tmp,"month_mean_hours")
degree = colSums(as.matrix.network.adjacency(tmp)) + rowSums(as.matrix.network.adjacency(tmp))
plot(tmp,vertex.cex = degree/50)})
plot(gof_5)
plot(gof_5)
help(lolog)
require(parallel)
cl <- parallel::makeCluster(3)
cl <- parallel::makeCluster(3)
lolog_5 <- lolog(ucla_net_undir ~ edges +
#preferentialAttachment()+
gwdegree(0.001)+
esp(0:3)+
nodeCov("month_mean_hours")
#ucla_net_undir ~ star(2),
cluster = cl
)
lolog_5 <- lolog(ucla_net_undir ~ edges +
#preferentialAttachment()+
gwdegree(0.001)+
esp(0:3)+
nodeCov("month_mean_hours")
#ucla_net_undir ~ star(2)
,
cluster = cl
)
summary(lolog_5)
cl <- parallel::makeCluster(3)
lolog_5 <- lolog(ucla_net_undir ~ edges +
#preferentialAttachment()+
gwdegree(0.001)+
gwesp(0.000001)+
nodeCov("month_mean_hours")
#ucla_net_undir ~ star(2)
,
cluster = cl
)
summary(lolog_5)
gof_5 <- lolog::gofit(lolog_5,ucla_net_undir ~ degree(0:100))
plot(gof_5)
gof_5 <- lolog::gofit(lolog_5,ucla_net_undir ~ esp(0:30))
plot(gof_5)
cl <- parallel::makeCluster(3)
lolog_5 <- lolog(ucla_net_undir ~ edges +
#preferentialAttachment()+
#gwdegree(0.001)+
gwesp(0.000001)+
nodeCov("month_mean_hours")
#ucla_net_undir ~ star(2)
,
cluster = cl
)
summary(lolog_5)
gof_5 <- lolog::gofit(lolog_5,ucla_net_undir ~ degree(0:100))
plot(gof_5)
gof_5 <- lolog::gofit(lolog_5,ucla_net_undir ~ esp(0:30))
plot(gof_5)
lolog_5 <- lolog(ucla_net_undir ~ edges +
#preferentialAttachment()+
#gwdegree(0.001)+
esp(0:3)
nodeCov("month_mean_hours")
#ucla_net_undir ~ star(2)
,
cluster = cl
)
cl <- parallel::makeCluster(3)
lolog_5 <- lolog(ucla_net_undir ~ edges +
#preferentialAttachment()+
#gwdegree(0.001)+
esp(0:3)+
nodeCov("month_mean_hours")
#ucla_net_undir ~ star(2)
,
cluster = cl
)
cl <- parallel::makeCluster(3)
lolog_5 <- lolog(ucla_net_undir ~ edges +
#preferentialAttachment()+
#gwdegree(0.001)+
gwesp(0.0001)+
nodeCov("month_mean_hours")
#ucla_net_undir ~ star(2)
,
cluster = cl
)
summary(lolog_5)
gof_5 <- lolog::gofit(lolog_5,ucla_net_undir ~ degree(0:100))
plot(gof_5)
gof_5 <- lolog::gofit(lolog_5,ucla_net_undir ~ esp(0:30))
plot(gof_5)
cl <- parallel::makeCluster(3)
lolog_5 <- lolog(ucla_net_undir ~ edges +
#preferentialAttachment()+
gwdegree(0.001)+
gwesp(0.0000001)+
nodeCov("month_mean_hours")
#ucla_net_undir ~ star(2)
,
cluster = cl
)
summary(lolog_5)
gof_5 <- lolog::gofit(lolog_5,ucla_net_undir ~ degree(0:100))
plot(gof_5)
gof_5 <- lolog::gofit(lolog_5,ucla_net_undir ~ esp(0:30))
plot(gof_5)
e*(0.000001)
exp(0.000001)
exp(0.000001)**10
exp(0.000001)**100
(exp(0.000001))**10
(exp(0.000001))**100
(exp(0.000001))**1000
(exp(0.000001))**10000
(exp(0.000001))**100000
(exp(0.000001))**1000000
(exp(0.000001))**10000000
cl <- parallel::makeCluster(3)
lolog_5 <- lolog(ucla_net_undir ~ edges +
#preferentialAttachment()+
gwdegree(0.001)+
triangles+
nodeCov("month_mean_hours")
#ucla_net_undir ~ star(2)
,
cluster = cl
)
View(lolog_2)
lolog_5 <- lolog(ucla_net_undir ~ #edges +
#preferentialAttachment()+
#gwdegree(0.001)+
esp(0:3)+
nodeCov("month_mean_hours")
#ucla_net_undir ~ star(2)
,
cluster = cl
)
lolog_5 <- lolog(ucla_net_undir ~ edges +
#preferentialAttachment()+
#gwdegree(0.001)+
esp(0:3)+
nodeCov("month_mean_hours")
#ucla_net_undir ~ star(2)
,
cluster = cl
)
lolog_5 <- lolog(ucla_net_undir ~ edges +
#preferentialAttachment()+
#gwdegree(0.001)+
esp(1:3)+
nodeCov("month_mean_hours")
#ucla_net_undir ~ star(2)
,
cluster = cl
)
lolog_5 <- lolog(ucla_net_undir ~ edges +
#preferentialAttachment()+
gwdegree(0.001)+
gwesp(0.0000001)+
nodeCov("month_mean_hours")
#ucla_net_undir ~ star(2)
,
cluster = cl
)
setwd("C:/Users/Duncan/Documents/duncan-clark.github.io")
source('~/duncan-clark2.github.io/R/build.R', echo=TRUE)
setwd("C:/Users/Duncan/Documents/git_website/duncan-clark.github.io")
source('~/duncan-clark2.github.io/R/build.R', echo=TRUE)
setwd("C:/Users/Duncan/Documents/git_website/duncan-clark.github.io")
source('~/R/build.R', echo=TRUE)
ls
source('~/R/build.R', echo=TRUE)
list.files(0)
list.files()
setwd("R")
list.files()
source('build.R', echo=TRUE)
source('build.R', echo=TRUE)
setwd("..")
setwd("..")
setwd("C:/Users/Duncan/Documents/git_website/duncan-clark.github.io")
source('~/duncan-clark2.github.io/R/build.R', echo=TRUE)
setwd("C:/Users/Duncan/Documents/git_website/duncan-clark.github.io")
source('~/duncan-clark.github.io/R/build.R', echo=TRUE)
setwd("C:/Users/Duncan/Documents/git_website/duncan-clark.github.io")
source('~/duncan-clark.github.io/R/build.R', echo=TRUE)
setwd("C:/Users/Duncan/Documents/git_website/duncan-clark.github.io")
source('~/duncan-clark.github.io/R/build.R', echo=TRUE)
setwd("C:/Users/Duncan/Documents/git_website/duncan-clark.github.io")
source('~/duncan-clark.github.io/R/build.R', echo=TRUE)
setwd("C:/Users/Duncan/Documents/git_website/duncan-clark.github.io")
source('~/duncan-clark.github.io/R/build.R', echo=TRUE)
getwd
getwd()
blogdown:::with_ext(rmds, '.md')
build_one
io = blogdown:::with_ext(rmds, '.md')[7]
io
!blogdown:::require_rebuild(io[2], io[1])
blogdown:::require_rebuild(io[2], io[1])
io[1]
io[2]
blogdown:::Rscript(shQuote(c('R/build_one.R', io)))
# Rmd files under the root directory
rmds = list.files('.', '[.]Rmd$', recursive = TRUE, full.names = TRUE)
files = cbind(rmds, blogdown:::with_ext(rmds, '.md'))
files
seq_len(nrow(files
))
for (i in seq_len(nrow(files))) build_one(files[i, ])
files
files[1,]
files[2,]
files[3,]
files[10,]
files[8,]
